# Командная строка

systemd
Systemctl — его команда

# block
Снимок диска — позволяет восстановить состояние
Снимок — сам файл после изменений
diff — дельта изменений, различие изменений между новым и старым файлом, просмотр изменений между различными версиями
Репозиторий — называют файлы и директорию
Директория — древовидная структура данных
checkout - переключение на конкретную ревизию
Ревизия — любое зафиксированное изменение
Коммит — (фиксация)процесс создания ревизии
Хороший коммит — в повелительном наклонении (исправить)

Tilix — терминал для Linux
Команда — Терминал — Оболочка — Программа
Bash — командная оболочка UNIX. Может читать и выполнять команды из файлы, что называется скриптами.
Командный интерпретатор, оболочка, процессор, shell — средство для выполнения задач.
Терминал - это программа, которая запускает внутри себя командную оболочку
echo $PWD — текущая директория

# основа по терминалу


утилита(программа) — например ls. Имеет опции и получение аргументов
утилита — опция и аргумент

опции записываются через дефис -
пример: -v
полное обозначение опции записывается через два дефиса --
пример: --version
опции можно перечислить через один дефис, либо по отдельности
приемр: -vast или -v -a -s -t

man ___ — мануал по утилите
q — выход
f или pg up— вперед
b или pg down— назад
В разделе SYNOPSYS

в описании утилиты опция с квадратными скобками указывает на необязательность []
<> - обязательные,
| - означает на «или»,
https://explainshell.com/ - интерактивное описание по каждой команде


GUI (Graphical User Interface
CLI (Command Line Interface

утилиты и программные пакеты
grep, diff — утилиты
опции на два подтипа: флаги и свитчи.
Свитч — булева опция, проверка наличия или отсутствия.
Флаг — опции с параметром.
В качестве примера, в команде grep --ignore-case -r -С 4 "some string" /tmp аргументами являются "some string" /tmp, а опциями --ignore-case -r -С 4. При этом --ignore-case и -r — это свитчи, а -C 4 — это флаг.

Tab — позыолит быстро донаписать опцию
Пайпы - ls | sort, первая часть — ls не выводит ничего на экран, а вместо этого перенаправляет свой вывод на вход программе сортировки


каждый процесс в системе запускается от имени пользователя
whoami — выясняет имя пользователя
ps aux — позволяет просматривать все запущенные процессы с именем пользователя
id — посмотреть свои доступы
id user_name — посмотреть доступы конкретного пользователя
  -u — опция, увидеть id пользователя
cat /etc/passwd — хранилище всех пользователей
gui — идентификатор группы доступы для совместного использования определнных ресурсов

# определение в командной строке
Опции программ начинаются с одного дефиса, либо с двумя, во втором слкчае зачастую полное название опции для создания скриптов, чтобы легче ориентироваться в понимании
Утилита — вспомогательная программа, в составе общего программного обеспечения. Предназначен для облегчения работы с другими программами или пользованием компьютером.

## Интерфейс командной строки
GUI или Graphical User Interface
CLI или Command Line Interface

## Утилиты
Кроме утилит, которые выполняются 1 раз, есть те, которые продолжают работать.
Cat — быстрый просмотр содержимого в терминале
cat > имя_файла — создает файл
Утилиты train и head позволяют глянуть часть содержимого текстового файла. В одном случае, первые строки, в другом последние.
less — приложение. Открывает текстовые файлы. 
/var/log — здесь записываются все логи. От linux и остальных программ.


Find — утилита для поиска файла. Позволяет заменять текст внутри файла Удаление найденных файлов и многое др. https://ru.wikipedia.org/wiki/Find
grep — утилита, которые находит строчки в файле. Например для поиска определнного кода.


Nano — простой редактор в терминале
vim — сложный редактор-комбайн с особенностями. Можно установить расширения. Некоторые профи программисты предпочитают разрабатывать в нем. Имеет собственный терминал. Сложно выйти из редактора))
Sed — потоковый текстовый редактор. Из-за определнной обработки файла перед ее открытием позволяет обрабатывать большие объемы текста.

## Перенаправления в терминале
STDIN (>), поток 0— из файла в терминал. Например команда в файле в терминал?
STDOUT (<), поток 1— из терминала в файл
STDERR поток 2— вывод ошибки

поток регулируется с &
2>&1- пример. Перед > ставиться цифра потока, после &, в конце цифра потока STDOUT
2> - пример перенаправление конкретного потока
&> - перенаправления двух потоков

\# > перетирает файл
echo 'hi' > result
\# >> добавляет содержимое в конец файла
echo 'hello' >> result

## Пайп и перенаправления
| - пайп. Перенапраляет от одной команды к другой. Работая по принципу stdout — stdin Позволяет применять разные утилиты одновременно.

Команды
touch src/file.txt — создание файла
mkdir folder — создание папки
  -p — опция, для создания подпапок
mv file1 file2— переименование
rm file — удаление
  -r — удаление всего содержимого в папке
cp file1 file1-copy — копирует
three — показывает структуру папок и файлов в текущем каталоге


переменные окружения позволяют настроить приложения перед запуском.
env — посмотреть переменные окружения
export HOME=/example — изменять для текущей сессии
echo $HOME — посмотреть значение переменной. $ для обращения к переменной.


.bash_history — хранятся введенные команды в терминал. В папке пользователя.
HISTFILESIZE — переменная окружения отвечает за количество хранящееся строчек в истории
Ctrl + r — реверсивный поиск. При нажатии в терминале. Ищет ближайшую команду по соответствию из .bash_history. Повторное нажатие выбирают следующую по соответствию.


root — суперпользователь
sudo — повышенный доступ от имени root
  -u — повышенный доступ от имени указанного пользователя
sudo -i — запустить сессию с root, тем самым переключиться на него
exit - выйти из сессии
все что находится в папке пользователя должно принадлежать ему, а системные файлы, каталоги суперпользователю
tee — перенаправляет и копирует значеие в файл или в переменную

## Права доступов
пример прав доступов для файла
`-rwxr-xr-x`
пример доступа директории
`drwxr-xr-x`
различие в первом символе. Для файлов -, а для директории d.

R — чтение
w — запись 
x — исполнение (взаимодействие или выполнение)
с 2 по 4 — (user) для указанного пользователя
след 3 — (group) )для группы пользователей
послед 3 — (other) для остальных

ls -la позволяет увидеть права

x в директории подразумевает вывод метаданных файлов

rwx — 755 — это не одно число, а группа чисел

sudo chown user:group filename — изменить владельца
  -r — рекурсивное изменение

chmod — иземнять права

символическая ссылка — файл, который направляет на папку где содержится исходный файл, каталог и др.

chmod — не применяется права для символьной ссылки, но применяются самому файлу на который ссылается
пример:
chmod u=rwx,g=rx,o=rx filename — без пробелов между запятыми
chmod 755 filename

обозначения прав здесь: https://ru.wikipedia.org/wiki/Chmod


## Пакетные менеджеры
в них могут хранится от 100 тысяч программ и библиотек
обычно установка происходит через sudo, потому что программа записывается в системный каталог
в каждой экосфере может присутсвовать пакетный менеджер, а нетолько у ос, например npm
для Ubuntu формат пакета .deb, в инете есть инструкции как такой пакет устанавливать
для ускоренной работы, apt сохраняет индекс (список пакетов в каталоге) на локальный диск
`sudo apt update` — позволяет актуализировать список пакетов на локальном диске
`apt show packagename` — вывод информации о пакете


type (а еще which и whereis) — любая из этих команд позволяет узнать, где хранятся исполняемые файлы, которые можно запустить
command not found — ошибка означает, что команды не запуститься, если например, не хватает прав на исполнение
в переменной PATH хранятся все места откуда могут запускаться пакеты, указанные через двоеточие
bin — обычно исполняемый файл хранится в этой папке
прямой запуск для собственного файла должна быть в следующем пути path/to/executable/file если в папке  executable, то вызывать нужно через ./



